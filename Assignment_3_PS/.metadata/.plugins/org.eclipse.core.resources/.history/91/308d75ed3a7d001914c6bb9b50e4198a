package model;

import javax.mail.Transport;
import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeMessage;

public class MailingObserver implements Observer {

	@Override
	public void next(String title, String status) {
		// TODO Auto-generated method stub
		System.out.println("Am primit notificare: " + title + " " + status);
		MimeMessage message=null;
		try
	    {
	      MimeMessage msg = new MimeMessage(message);
	      //set message headers

	      msg.setFrom(new InternetAddress("czaada@gmail.com", "NoReply-JD"));

	      msg.setReplyTo(InternetAddress.parse("alexandra.czako97@gmail.com", false));

	      msg.setSubject("Information mail", "UTF-8");

	      msg.setText("We inform you that the book you are searching for is now free!", "UTF-8");
 
	      System.out.println("Message is ready");
    	  Transport.send(msg);  

	      System.out.println("Email Sent Successfully!!");
	    }
	    catch (Exception e) {
	      e.printStackTrace();
	    }
	}
		
}


